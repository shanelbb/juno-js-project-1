<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=`, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link href="https://fonts.googleapis.com/css?family=Barlow&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="./styles.css" />
  <title>Document</title>
</head>
<body>
  <div class="wrapper">
    <header>
      <h1>Test</h1>
    </header>
    <div class="content">
      <!-- DYNAMIC CONTENT GOES HERE -->
    </div>
    <div class="score-board">
      <!-- SHOW SCORE -->
    </div>
    <!-- Import jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script>
      const quiz = [
        {
          question: "what is the answer?",
          answers: [
            {
              value: "Harry Potter",
            },
            {
              value: "Dumbledore",
            },
            {
              value: "Hermione",
            },
            {
              value: "Ron",
            },
          ],
          correct: 1
        },
        {
          question: "This is the second question",
          answers: [
            {
              value: "Gryffindor",
            },
            {
              value: "Ravenclaw",
            },
            {
              value: "Hufflepuff",
            },
            {
              value: "Slytherin",
            },
          ],
          correct: 3
        },
      ]
      const createForm = function () {
        quiz.forEach(function (question) {
          const htmlToAppend = `
            <form>
              <fieldset>
                <legend>${question.question}</legend>
                <label for="answer1">${question.answers[0].value}</label>
                <input value="0" checked type="radio" name="question1" id="answer1"/>
                <label for="answer2">${question.answers[1].value}</label>
                <input  value="1" type="radio" name="question1" id="answer1"/>
                <label for="answer3">${question.answers[2].value}</label>
                <input  value="2" type="radio" name="question1" id="answer1"/>
                <label for="answer4">${question.answers[3].value}</label>
                <input  value="3" type="radio" name="question1" id="answer1"/>
              </fieldset>
              <button type="submit">Next</button>
            </form>
            `
          $(".content").append(htmlToAppend);
        })
      }
      const createScoreBoard = function (score) {
        $(".score-board").html(score)
      }
      const storeUserSelection = function () {
        $(".content").on("submit", "form", function (e) {
          e.preventDefault();
          const selection = $("input[type='radio']:checked").val();
          const numberSelection = parseInt(selection)
          scoreKeeper(numberSelection);
        })
      }
      const scoreKeeper = function (userChoice) {
        let score = 0;
        let correct = quiz[0].correct;
        console.log("test", correct);
        if (userChoice === correct) {
          score = score + 10;
        } else {
          score = score - 10;
        }
        createScoreBoard(score)
      }
      createForm();
      storeUserSelection()
      // Figuring out how to to run the score function on each form
    </script>
</body>
</html>