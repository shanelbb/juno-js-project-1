// const quiz2 = [
//   {
//     name: "Question 1",
//     question:
//       "What charm did Professor McGonagall use to bring the statues and suits of armour to life in Deathy Hallows",
//     answers: [
//       {
//         value: "Petrificus Totalis"
//       },
//       {
//         value: "Piertotum Locomotor"
//       },
//       {
//         value: "Priori Incantato"
//       },
//       {
//         value: "Homenum Revelio"
//       }
//     ],
//     correctAnswer: 1
//   },
//   {
//     name: "Question 2",
//     question: "What does the spell Tarantallegra do?",
//     answers: [
//       {
//         value: "Shoots spiders from the end of the wand"
//       },
//       {
//         value: "Causes the victim to be covered in pasta"
//       },
//       {
//         value: "Makes the victim's legs dance uncontrollably"
//       },
//       {
//         value: "Makes the victim break into song"
//       }
//     ],
//     correctAnswer: 2
//   },
//   {
//     name: "Question 3",
//     question: "Who tried to use the 'spell' Peskipiksi Pesternomi?",
//     answers: [
//       {
//         value: "Gilderoy Lockhart"
//       },
//       {
//         value: "Bellatrix Lestrange"
//       },
//       {
//         value: "Severus Snape"
//       },
//       {
//         value: "Remus Lupin"
//       }
//     ],
//     correctAnswer: 0
//   },
//   {
//     name: "Question 4",
//     question: "What floor was the Room of Requirement located on?",
//     answers: [
//       {
//         value: "Seventh"
//       },
//       {
//         value: "Fourth"
//       },
//       {
//         value: "Third"
//       },
//       {
//         value: "First"
//       }
//     ],
//     correctAnswer: 0
//   },
//   {
//     name: "Question 5",
//     question:
//       "Hermione accidentally turned herself into a cat in Chamber of Secrets - but who did she intend to transform into?",
//     answers: [
//       {
//         value: "Daphne Greengrass"
//       },
//       {
//         value: "Millicent Bulstrode"
//       },
//       {
//         value: "Pansy Parkinson"
//       },
//       {
//         value: "Tracey Davis"
//       }
//     ],
//     correctAnswer: 1
//   },
//   {
//     name: "Question 6",
//     question:
//       "How many hours of good luck were contained in the bottle of Felix Felicis Professor Slughorn offered as a prize?",
//     answers: [
//       {
//         value: "48 hours"
//       },
//       {
//         value: "24 hours"
//       },
//       {
//         value: "12 hours"
//       },
//       {
//         value: "6 hours"
//       }
//     ],
//     correctAnswer: 2
//   },
//   {
//     name: "Question 7",
//     question:
//       "In the Triwizard Tournament's third task, which magical creature asked Harry a riddle?",
//     answers: [
//       {
//         value: "Pixie"
//       },
//       {
//         value: "Centaur"
//       },
//       {
//         value: "Giant"
//       },
//       {
//         value: "Sphinx"
//       }
//     ],
//     correctAnswer: 3
//   },
//   {
//     name: "Question 8",
//     question: "What does S.P.E.W stand for?",
//     answers: [
//       {
//         value: "Society for the Protection of Elfish Ways"
//       },
//       {
//         value: "Society for the Power of Elfish Well-being"
//       },
//       {
//         value: "Society for the Promotion of Elfish Welfare"
//       },
//       {
//         value: "Society for the Protection of Elves and Wizards"
//       }
//     ],
//     correctAnswer: 2
//   },
//   {
//     name: "Question 9",
//     question: "What time does the Hogwarts Express depart?",
//     answers: [
//       {
//         value: "11:30am"
//       },
//       {
//         value: "11am"
//       },
//       {
//         value: "12pm"
//       },
//       {
//         value: "10am"
//       }
//     ],
//     correctAnswer: 1
//   },
//   {
//     name: "Question 10",
//     question:
//       "What animal does Draco Malfoy get turned into in Goblet of Fire?",
//     answers: [
//       {
//         value: "Guinea Pig"
//       },
//       {
//         value: "Rat"
//       },
//       {
//         value: "Snake"
//       },
//       {
//         value: "Ferret"
//       }
//     ],
//     correctAnswer: 3
//   }
// ];

const quiz = [
  {
    name: "Question 1",
    question:
      "In Harry's first lesson with Snape, what is the first potion the class learns to make?",
    answers: [
      {
        value: "A potion to cure boils"
      },
      {
        value: "Confusing Concoction"
      },
      {
        value: "Polyjuice Potion"
      },
      {
        value: "An antidote for common poisons"
      }
    ],
    correctAnswer: 0
  },
  {
    name: "Question 2",
    question:
      "What would you get if you added powdered root of asphodel to an infusion of wormwood?",
    answers: [
      {
        value: "Pepperup Potion"
      },
      {
        value: "Wolfsbane Potion"
      },
      {
        value: "Draught of Living Death"
      },
      {
        value: "Draught of Peace"
      }
    ],
    correctAnswer: 2
  },
  {
    name: "Question 3",
    question: "What is the incantation of the spell that can expel a boggart?",
    answers: [
      {
        value: "Waddiwasi"
      },
      {
        value: "Riddikulus"
      },
      {
        value: "Dissendium"
      },
      {
        value: "Morsmordre"
      }
    ],
    correctAnswer: 1
  },
  {
    name: "Question 4",
    question: "What does Neville Longbottom use to kill Nagini?",
    answers: [
      {
        value: "A knife"
      },
      {
        value: "Basilisk Fang"
      },
      {
        value: "His wand"
      },
      {
        value: "The sword of Gryffindor"
      }
    ],
    correctAnswer: 3
  },
  {
    name: "Question 5",
    question: "What was the first name of Sirius Black's mother?",
    answers: [
      {
        value: "Willhemina"
      },
      {
        value: "Walburga"
      },
      {
        value: "Winnifred"
      },
      {
        value: "Warmina"
      }
    ],
    correctAnswer: 1
  },
  {
    name: "Question 6",
    question:
      "What spell do Death Eaters use to conjure up the Dark Mark in the sky?",
    answers: [
      {
        value: "Morsmordre"
      },
      {
        value: "Piertotum Locomotor"
      },
      {
        value: "Stupefy"
      },
      {
        value: "Avada Kedavra"
      }
    ],
    correctAnswer: 0
  },
  {
    name: "Question 7",
    question: "What is Albus Dumblesdore's full name?",
    answers: [
      {
        value: "Albus Peter Weatherby Barnabus Dumbledore"
      },
      {
        value: "Albus Polonius Wilfred Bertram Dumbledore"
      },
      {
        value: "Albus Percival Wulfric Brian Dumbledore"
      },
      {
        value: "Albus Pericles Wolfgang Bernard Dumbledore"
      }
    ],
    correctAnswer: 2
  },
  {
    name: "Question 8",
    question: "What form does Hermione's Patronus take?",
    answers: [
      {
        value: "Dove"
      },
      {
        value: "Jack Russell Terrier"
      },
      {
        value: "Otter"
      },
      {
        value: "Hare"
      }
    ],
    correctAnswer: 2
  },
  {
    name: "Question 9",
    question: "What materials was Harry's wand made out of?",
    answers: [
      {
        value: "Hawthorn and unicorn hair"
      },
      {
        value: "Holly and phoenix feather"
      },
      {
        value: "Vine and dragon heartstring"
      },
      {
        value: "Willow and unicorn hair"
      }
    ],
    correctAnswer: 1
  },
  {
    name: "Question 10",
    question: "Which family did Winky the house elf serve?",
    answers: [
      {
        value: "Malfoys"
      },
      {
        value: "Diggorys"
      },
      {
        value: "Potters"
      },
      {
        value: "Crouches"
      }
    ],
    correctAnswer: 3
  }
];

// Cached Selectors
const $quiz = $("#quiz");
const $welcome = $("#welcome");
const $start = $("#start");
const $question = $("#question");
const $answer = $("#answer");
// const $controls = $("#controls");
const $form = $("form");
const $submit = $("#submit");
const $back = $("#back");
const $next = $("#next");
const $results = $("#results");

let shuffledQuestions;

$question.addClass("hide");
$answer.addClass("hide");
// $controls.addClass("hide");
$submit.addClass("hide");
$results.addClass("hide");

const createForm = function () {
  quiz.forEach(function (question) {
    const htmlToAppend = `
      <fieldset>
        <legend>${question.question}</legend>
        <label for="answer1">${question.answers[0].value}</label>
        <input value="0" checked type="radio" name=${question.name} id="answer1"/>
        <label for="answer2">${question.answers[1].value}</label>
        <input  value="1" type="radio" name=${question.name} id="answer1"/>
        <label for="answer3">${question.answers[2].value}</label>
        <input  value="2" type="radio" name=${question.name} id="answer1"/>
        <label for="answer4">${question.answers[3].value}</label>
        <input  value="3" type="radio" name=${question.name} id="answer1"/>
      </fieldset>
    `
    $(htmlToAppend).insertBefore("#submit");
  })
}​

$start.on("click", () => {
  quiz.forEach(function(index) {
    shuffledQuestions = quiz.sort(() => Math.random() - 0.5);
    ​
    createForm();

    $question.removeClass("hide");
    $answer.removeClass("hide");
    $next.removeClass("hide");
    $controls.removeClass("hide");
    $submit.removeClass("hide");

    $welcome.addClass("hide");
    $back.addClass("hide");
  });
});


  // array of correct answers
  let correctArray = quiz.map(function (question) {
    return question.correct;
  })
​
  // Function to check if the values in the submitted answer are correct or not
  const checkValues = function (array) {
    let correctArray = [];
    let incorrectArray = [];
    let score = 0;
    array.forEach(function (answer, i) {
      answerNumber = parseInt(answer)
      if (answerNumber === quiz[i].correct) {
        correctArray.push(answer);
      } else {
        incorrectArray.push(answer)
      }
    })
    score = score + correctArray.length * 10;
    showScore(score);
  }
​
  const formSubmit = function () {
    // let score = 0;
    $("form").on("submit", function (e) {
      e.preventDefault();
      console.log("submitted")
      // Store all the values of the selected questions in an "array-like-object"
      const answers = $("input[type='radio']:checked").map(function () {
        return $(this).val();
      })
      // the answers are stored in a jQuery object so we make an array to loop through
      const answersArray = Array.from(answers);
      // call the function that submits all the answers
      checkValues(answersArray);
    })
  }
​
  const showScore = function (score) {
    $(".score-board").append(`<p>Score: ${score} </p>`)
  }
  formSubmit();
})
